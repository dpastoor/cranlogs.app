<div class="container">
  <div class="row">
    <div class="two columns">
      <a href="https://github.com/metacran">
	<img src="images/metacran-logo.svg">
      </a>
      <ul class="menu">
        <li><a href="#badges">Badges</a>
        <li><a href="#rpackage">R package</a>
        <li><a href="#jsonapi">JSON API</a>
	<li><a href="https://github.com/metacran/cranlogs.app">On Github</a>
	<li><a href="https://github.com/metacran/cranlogs.app/issues">Report a bug</a>
      </ul>
    </div>
    <div class="ten columns">

      <script>
       function update1() {
	 var pkg = document.getElementById("package").value;
	 var url = "https://cranlogs.r-pkg.org/badges/" + pkg;
	 var md = "[![](https://cranlogs.r-pkg.org/badges/" +
		  pkg + ")](https://cran.r-project.org/package=" + pkg + ")";
	 document.getElementById("url").value = url;
	 document.getElementById("markdown").value = md;
	}
       function update() {
	 setTimeout("update1()", 100);
       }
      </script>
      
      <h1>CRAN download counts</h1>

      <p>
	API for CRAN package download counts, from the
	<a href="https://cran-logs.rstudio.com/">RStudio CRAN mirror</a>.
      </p>

      <hr>
      <a id="badges"></a>
      <h3>Badges</h3>

      <p>Add a badge with download counts to your homepage or your
	Github project page. Our badges were generated by
	<a href="https://shields.io/">shields.io</a>.

      <p>
      <form>
	<label>Example</label>
	<img class="badge" src="https://cranlogs.r-pkg.org/badges/ggplot2">
	<label for="package">R Package</label>
	<input class="u-full-width" type="text" value="ggplot2" id="package"
	       onkeydown="update()">
	<label for="url">URL</label>
	<input class="u-full-width" type="text" readonly="readonly"
	       value="https://cranlogs.r-pkg.org/badges/ggplot2" id="url">
	<label for="markdown">MarkDown</label>
	<textarea class="u-full-width" id="markdown" readonly="readonly">
[![](https://cranlogs.r-pkg.org/badges/ggplot2)](https://cran.rstudio.com/web/packages/ggplot2/index.html)
	</textarea>
      </form>
      
      See the <a href="https://github.com/metacran/cranlogs.app">
	Github page</a> for other badge styles.
      </p>

      <hr>
      <a id="rpackage"></a>
      <h3>R package</h3>

      <p>Query download counts directly from R with the
	<a href="https://github.com/metacran/cranlogs"><code>cranlogs</code></a>
	R package. You can install it from Github:

      <pre><code>> devtools::install_github("metacran/cranlogs")</code></pre>

      Then you can use it to query the CRAN logs server, and the results
      are returned in a data frame. You can also query multiple packages
      at once.
      <pre><code>> cran_downloads(when = "last-week", packages = c("ggplot2", "httr"))
	<span class="output">
         date count package
1  2015-04-17  5245 ggplot2
2  2015-04-18  3688 ggplot2
3  2015-04-19  3989 ggplot2
4  2015-04-20  6865 ggplot2
5  2015-04-21  6523 ggplot2
6  2015-04-22  6767 ggplot2
7  2015-04-23  6346 ggplot2
8  2015-04-17  2024    httr
9  2015-04-18  1819    httr
10 2015-04-19  2025    httr
11 2015-04-20  2706    httr
12 2015-04-21  2457    httr
13 2015-04-22  2621    httr
14 2015-04-23  2286    httr</span></code></pre></p>

      <p>See more on its <a href="https://github.com/metacran/cranlogs">
	Github page</a>.</p>

      <hr>
      <a id="jsonapi"></a>
      <h3>JSON API</h3>

      <p>
	The server provides a JSON API through HTTP as well:
	<pre><code>$ curl https://cranlogs.r-pkg.org/downloads/total/last-week/ggplot2
	  <span class="output">
[
  {
    start: "2015-04-17",
    end: "2015-04-23",
    downloads: 39423,
    package: "ggplot2"
  }
]</span></code></pre>	
	The details are documented on the
	<a href="https://github.com/metacran/cranlogs.app">Github page.</a>
      </p>
      
    </div>
  </div>
  <hr>
</div>
